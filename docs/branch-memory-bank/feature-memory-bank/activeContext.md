# アクティブコンテキスト

## 現在の作業内容

MCPサーバーとしてのメモリーバンク機能の実装を行っています。現在、以下のコマンドが実装されています：

1. write_branch_memory_bank
   - ブランチメモリーバンクにドキュメントを書き込む
   - 引数：path（必須）, content, branch

2. read_branch_memory_bank
   - ブランチメモリーバンクからドキュメントを読み込む
   - 引数：path（必須）, branch

3. read_rules
   - メモリーバンクのルールを指定言語で読み込む
   - 引数：language（必須、"en"または"ja"）

## 最近の変更点

- MCPサーバーの基本構造を実装
- ブランチメモリーバンクの読み書き機能を実装
- ルール読み込み機能を実装
- ロギング機能を追加
- コマンドライン引数のパース機能を追加

## アクティブな決定事項

1. ファイル構造
   - docs/以下にメモリーバンクを配置
   - グローバルとブランチごとのメモリーバンクを分離

2. 技術スタック
   - @modelcontextprotocol/sdk v0.5.0を使用
   - TypeScriptで実装
   - yargsでコマンドライン引数を処理

## 検討事項

1. グローバルメモリーバンク関連のコマンド
   - write_global_memory_bank
   - read_global_memory_bank
   の実装が必要

2. エラーハンドリングの改善
   - より詳細なエラーメッセージ
   - エラー種別の定義

3. ドキュメントのバリデーション
   - 必須フィールドのチェック
   - フォーマットの検証

## 次のステップ

1. グローバルメモリーバンク関連のコマンドを実装
   - write_global_memory_bank
   - read_global_memory_bank

2. エラーハンドリングの改善
   - カスタムエラークラスの作成
   - エラーメッセージの充実化

3. ドキュメントバリデーションの実装
   - バリデーション関数の作成
   - 必須フィールドの定義

4. テストの追加
   - 各コマンドのユニットテスト
   - エラーケースのテスト

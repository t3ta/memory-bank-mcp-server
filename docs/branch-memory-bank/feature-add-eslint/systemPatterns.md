# システムパターン

## 技術的な決定事項

### ESLintとPrettierの導入と設定

#### 背景
プロジェクトのコード品質を向上させ、一貫性のあるコードスタイルを維持するため、ESLintとPrettierの導入が必要となりました。

#### 決定内容
- ESLintを導入し、TypeScript ESLintプラグインを使用
- Prettierプラグインを導入して、コードフォーマットを自動化
- 未使用変数、無駄なimport、非同期処理のエラーハンドリングに関するルールを重点的に設定
- 現時点では警告レベルでの導入とし、段階的に厳格化していく

#### 影響
- コード品質の向上
- 開発効率の改善（フォーマット作業の自動化）
- チーム間のコードスタイルの統一
- CI/CDパイプラインへの組み込みによる品質保証の強化

### 未使用変数の命名規則

#### 背景
コードベースに多数の未使用変数が存在し、ESLintの警告が大量に発生していました。

#### 決定内容
- 意図的に未使用の変数には `_` プレフィックスを付ける
- catchブロック内のエラー変数は単に `_error` とし、コメントで説明を追加
- 型定義などの未使用enumには `_` プレフィックスを付ける
- eslint-disable コメントも状況によって使用する

#### 影響
- コードの意図がより明確になる
- ESLint警告の減少
- 将来のリファクタリングやコード理解がしやすくなる

### ESLint警告の扱い方

#### 背景
最初のESLint導入では100以上の警告が検出され、一度にすべてを修正するのは困難でした。

#### 決定内容
- 重要度の高い警告（未使用変数、フォーマット問題）を優先的に修正
- 残りの警告は今後のリファクタリング作業で段階的に対応
- テストコードの警告は一部のルールを緩和（例: explicit-module-boundary-types）

#### 影響
- 段階的な改善が可能になる
- リファクタリングの優先順位付けがしやすくなる
- 新規コードは警告が少なく書けるようになる

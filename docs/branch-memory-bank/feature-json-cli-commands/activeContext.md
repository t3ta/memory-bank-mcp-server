# アクティブコンテキスト

## 現在の作業内容

FileSystemTagIndexRepositoryImpl.test.tsの修正が完了しました。JSONドキュメント形式のサポートに対応するようにテストを調整し、すべてのテストが正常に通過するようになりました。

## 最近の変更点

- CommandBaseクラスの実装
- CreateJsonCommandの実装開始
- コマンドライン引数パーサーの設計
- ヘルプテキストの作成
- エラーメッセージの定義
- FileSystemJsonDocumentRepository.tsの実装（JSONドキュメント用のリポジトリ）
- markdown-parser.tsの更新（Markdownからの変換サポート追加）
- FileSystemTagIndexRepositoryImpl.test.tsの修正（JSONドキュメント対応）

## アクティブな決定事項

- コマンド構造を階層化して実装
- 統一的なエラーハンドリングを採用
- ヘルプテキストを充実させる
- インタラクティブモードをサポート
- JSONドキュメントをサポートする（新機能）
- テストではTAG_INDEX_VERSION定数を使用して一貫性を保つ
- テストでは実装詳細に依存しすぎず基本構造を検証する

## 検討事項

- テスト修正アプローチ（モックの更新 vs. ファイル構造の変更）
- MarkdownとJSONの共存戦略
- タグインデックスの更新戦略（インクリメンタル vs. フルリビルド）

## 次のステップ

- 他の失敗しているテストの確認と修正
- モックとテストヘルパーファイルの確認・更新
- CRUD操作コマンドの実装完了
- 検索コマンドの実装
- インデックス管理コマンドの実装

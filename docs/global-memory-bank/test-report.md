# テストレポート

## 具体的な問題点

### src/domain/entities/__tests__/BranchInfo.test.ts
*   **行番号 34-50:** ブランチ名が空の場合のエラーハンドリングがテストされていますが、エラーメッセージとエラーコードの両方が正しいか確認する必要があります。
*   **行番号 52-70:** 無効なプレフィックスを持つブランチ名の場合のエラーハンドリングがテストされていますが、エラーメッセージとエラーコードの両方が正しいか確認する必要があります。
*   **行番号 72-90:** プレフィックスの後に名前がない場合のエラーハンドリングがテストされていますが、エラーメッセージとエラーコードの両方が正しいか確認する必要があります。

### src/application/usecases/common/__tests__/UpdateTagIndexUseCaseV2.test.ts
*   **行番号 30-73:** グローバルタグインデックスの作成と保存がテストされていますが、タグの重複や大文字小文字の区別が正しく処理されているか確認する必要があります。
*   **行番号 75-104:** 既存のグローバルタグインデックスの更新がテストされていますが、タグの削除や更新が正しく処理されているか確認する必要があります。
*   **行番号 108-144:** ブランチタグインデックスの作成と保存がテストされていますが、ブランチ固有のタグが正しく処理されているか確認する必要があります。
*   **行番号 146-169:** ドキュメント処理中のエラーハンドリングがテストされていますが、エラーが発生した場合でも他のドキュメントが正しく処理されるか確認する必要があります。

### src/application/usecases/json/__tests__/WriteJsonDocumentUseCase.test.ts
*   **行番号 30-50:** JSONドキュメントの作成がテストされていますが、無効なJSONデータが入力された場合のエラーハンドリングが不足しています。
*   **行番号 52-70:** JSONドキュメントの更新がテストされていますが、既存のドキュメントが存在しない場合のエラーハンドリングが不足しています。

### src/infrastructure/repositories/file-system/__tests__/FileSystemJsonDocumentRepository.test.ts
*   **行番号 30-50:** JSONドキュメントの読み取りがテストされていますが、ファイルが存在しない場合のエラーハンドリングが不足しています。
*   **行番号 52-70:** JSONドキュメントの削除がテストされていますが、ファイルが存在しない場合のエラーハンドリングが不足しています。

### src/schemas/v2/__tests__/json-document.test.ts
*   **行番号 30-50:** JSONドキュメントのスキーマバリデーションがテストされていますが、無効なフィールドが含まれる場合のエラーハンドリングが不足しています。
*   **行番号 52-70:** JSONドキュメントの必須フィールドがテストされていますが、フィールドが欠けている場合のエラーメッセージが正しいか確認する必要があります。

### src/shared/utils/__tests__/markdown-converter.test.ts
*   **行番号 30-50:** マークダウンからHTMLへの変換がテストされていますが、特殊文字やエスケープシーケンスが正しく処理されているか確認する必要があります。
*   **行番号 52-70:** HTMLからマークダウンへの変換がテストされていますが、特殊文字やエスケープシーケンスが正しく処理されているか確認する必要があります。

### src/shared/utils/__tests__/json-to-markdown/JsonToMarkdownConverter.test.ts
*   **行番号 30-50:** JSONからマークダウンへの変換がテストされていますが、ネストされたJSONオブジェクトが正しく処理されているか確認する必要があります。
*   **行番号 52-70:** マークダウンからJSONへの変換がテストされていますが、無効なマークダウン形式が入力された場合のエラーハンドリングが不足しています。

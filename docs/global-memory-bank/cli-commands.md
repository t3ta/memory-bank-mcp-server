# CLI コマンド一覧

tags: #cli #commands #reference

## 概要

Memory Bank CLIは、コマンドラインからメモリバンクを操作するためのツールです。このドキュメントでは、利用可能なコマンドとその使用方法について説明します。

## 基本コマンド構文

```
memory-bank <コマンド> [オプション]
```

## グローバルオプション

すべてのコマンドで使用できるグローバルオプション：

| オプション | 説明 |
|------------|------|
| `--docs <ディレクトリ>` | メモリバンクのルートディレクトリを指定 |
| `--verbose` | 詳細なログ出力を有効化 |
| `--language <言語>` | 使用言語を指定（en/ja） |
| `--help` | ヘルプ情報を表示 |
| `--version` | バージョン情報を表示 |

## 主要コマンド

### グローバルメモリバンク操作

#### read-global

グローバルメモリバンクからドキュメントを読み取ります。

```
memory-bank read-global <ドキュメントパス> [オプション]
```

オプション：
- `--pretty`: JSONドキュメントを整形して表示
- `--content-only`: JSONドキュメントのコンテンツのみを表示

#### write-global

グローバルメモリバンクにドキュメントを書き込みます。

```
memory-bank write-global <ドキュメントパス> [オプション]
```

オプション：
- `--content <内容>`: 直接指定したコンテンツを書き込む
- `--file <ファイルパス>`: 指定したファイルの内容を書き込む
- `--title <タイトル>`: ドキュメントのタイトルを指定
- `--tags <タグリスト>`: カンマ区切りのタグリストを指定
- `--force`: 既存のドキュメントを上書き

### ブランチメモリバンク操作

#### read-branch

ブランチメモリバンクからドキュメントを読み取ります。

```
memory-bank read-branch <ドキュメントパス> --branch <ブランチ名> [オプション]
```

オプション：
- `--branch <ブランチ名>`: 操作対象のブランチ名
- `--pretty`: JSONドキュメントを整形して表示
- `--content-only`: JSONドキュメントのコンテンツのみを表示

#### write-branch

ブランチメモリバンクにドキュメントを書き込みます。

```
memory-bank write-branch <ドキュメントパス> --branch <ブランチ名> [オプション]
```

オプション：
- `--branch <ブランチ名>`: 操作対象のブランチ名
- `--content <内容>`: 直接指定したコンテンツを書き込む
- `--file <ファイルパス>`: 指定したファイルの内容を書き込む
- `--title <タイトル>`: ドキュメントのタイトルを指定
- `--tags <タグリスト>`: カンマ区切りのタグリストを指定
- `--force`: 既存のドキュメントを上書き

### JSON操作

#### json create

新しいJSONドキュメントを作成します。

```
memory-bank json create <ドキュメントパス> [オプション]
```

オプション：
- `--branch <ブランチ名>`: ブランチメモリバンクに作成
- `--title <タイトル>`: ドキュメントのタイトル
- `--type <タイプ>`: ドキュメントのタイプ
- `--tags <タグリスト>`: カンマ区切りのタグリスト
- `--content <JSON>`: 初期コンテンツをJSON形式で指定
- `--force`: 既存のドキュメントを上書き

#### json read

JSONドキュメントを読み取ります。

```
memory-bank json read <ドキュメントパス> [オプション]
```

オプション：
- `--branch <ブランチ名>`: ブランチメモリバンクから読み取り
- `--pretty`: JSONを整形して表示
- `--content-only`: コンテンツ部分のみ表示
- `--fields <フィールドリスト>`: 表示するフィールドをカンマ区切りで指定

#### json update

既存のJSONドキュメントを更新します。

```
memory-bank json update <ドキュメントパス> [オプション]
```

オプション：
- `--branch <ブランチ名>`: ブランチメモリバンクのドキュメントを更新
- `--content <JSON>`: 更新するコンテンツをJSON形式で指定
- `--title <タイトル>`: タイトルを更新
- `--type <タイプ>`: ドキュメントタイプを更新
- `--tags <タグリスト>`: タグを更新

#### json delete

JSONドキュメントを削除します。

```
memory-bank json delete <ドキュメントパス> [オプション]
```

オプション：
- `--branch <ブランチ名>`: ブランチメモリバンクのドキュメントを削除
- `--force`: 確認なしで削除

### 検索

#### search

ドキュメントを検索します。

```
memory-bank search [検索クエリ] [オプション]
```

オプション：
- `--tags <タグリスト>`: 指定したタグを持つドキュメントを検索
- `--branch <ブランチ名>`: 指定したブランチ内のみを検索
- `--global-only`: グローバルメモリバンクのみを検索
- `--match-all`: すべての検索条件にマッチするドキュメントのみを表示
- `--pretty`: 結果を整形して表示

### タグ操作

#### tags list

利用可能なタグのリストを表示します。

```
memory-bank tags list [オプション]
```

オプション：
- `--branch <ブランチ名>`: 指定したブランチのタグのみを表示
- `--global-only`: グローバルメモリバンクのタグのみを表示
- `--count`: 各タグの使用回数も表示

#### tags add

ドキュメントにタグを追加します。

```
memory-bank tags add <ドキュメントパス> --tag <タグ> [オプション]
```

オプション：
- `--branch <ブランチ名>`: ブランチメモリバンクのドキュメントにタグを追加
- `--tag <タグ>`: 追加するタグ

#### tags remove

ドキュメントからタグを削除します。

```
memory-bank tags remove <ドキュメントパス> --tag <タグ> [オプション]
```

オプション：
- `--branch <ブランチ名>`: ブランチメモリバンクのドキュメントからタグを削除
- `--tag <タグ>`: 削除するタグ

### 初期化と移行

#### init

メモリバンクを初期化します。

```
memory-bank init [オプション]
```

オプション：
- `--force`: 既存のメモリバンクを上書き
- `--template <テンプレート>`: 使用するテンプレートを指定

#### migrate

Markdownドキュメントを新しいJSON形式に移行します。

```
memory-bank migrate [オプション]
```

オプション：
- `--branch <ブランチ名>`: 特定のブランチのみを移行
- `--global-only`: グローバルメモリバンクのみを移行
- `--backup`: 移行前にバックアップを作成
- `--dry-run`: 実際の変更を行わずに移行内容を表示

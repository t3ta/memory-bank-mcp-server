# アクティブコンテキスト

## 現在の作業内容

write_branch_core_filesコマンドを改善

## 最近の変更点

- zodスキーマを使用したバリデーションを実装
- カスタムエラークラスとエラーコードを追加
- タグ、パス、ブランチ名のバリデーションを強化
- 型安全性を向上
- JSONベースのセクション編集機能を追加
- 直近のブランチメモリバンク取得機能を追加
- list_toolsコマンドを追加
- write_branch_core_filesコマンドを追加
  - コアファイルの一括更新が可能
  - JSONベースのAPI
  - zodスキーマによるバリデーション
- write_branch_core_filesコマンドを改善
  - セクション単位での編集モード指定（replace/append/prepend）
  - 行番号指定による部分更新
  - 各ファイルごとに編集オプションを設定可能

## アクティブな決定事項

- テストの実装は別ブランチで行う
- セクション編集はJSONベースのAPIを提供
- ブランチ情報取得はサマリー形式で提供
- コマンド一覧はJSONフォーマットで提供
- コアファイルの更新はJSONベースのAPIで一括更新可能
- セクション編集は柔軟な更新モードをサポート

## 検討事項

- テスト実装用の新しいブランチの作成タイミング

## 次のステップ

- テスト実装用の新しいブランチを作成する